# Индексы / Index

**Индексы** - необходимы для повышения производительности запросов в БД. Повышается производительность за счет предоставления быстрого доступа к строкам данных в БД.

Индексы создаются на основе значений столбцов таблиц. Когда мы навешиваем индекс на какой-либо столбец база сначала ищет значение индекса, затем использует это значение для быстрого нахождения строки (или строк). Без индекса будет производиться сканирование всех значений в таблице.

Индексы можно навесить почти на любой тип, но не стоит вешать их на типы или столбцы с большим объемом значений.

Типы индексов:
- Составной индекс
- Уникальный индекс
- Покрывающий индекс

А так же любой индекс может быть:
- Кластеризованный
- Некластеризованный

**Составной индекс** - такой индекс может содержать до 16 столбцов или 900 байтов.

**Уникальный  индекс** - это уникальность не в рамках таблицы но в рамках индексируемого столбца (среди всех значений индекса).
Первичный ключ - при создании primary key столбца база автоматически создает уникальный индекс для этого столбца.
Уникальность значений - когда мы задаем unique constraint на столбце автоматически создается уникальный индекс.

**Покрывающий индекс** - такой индекс позволяет конкретному запросу (или вьюшке) получить все данные без обращения к самой таблице.

Когда не стоит добавлять индексы:
- если в таблицу часто прилетают запросы на добавление/удаление или изменение данных
- на столбцах с большими данными
- чем больше дублей в столбце тем хуже работает индекс
- при SELECT запросах в WHERE первыми параметрами лучше использовать индексированные или уникальные


**Кластеризованный** - похож на "Stack". Он быстрее, но может быть в единичном кол-ве для каждой таблицы. 

**Некластеризованный** - похож на "Heap". Медленее чем "кластеризированный", но может хранить несколько индексов для каждой из таблиц.